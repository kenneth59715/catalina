head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2001.10.31.22.56.18;	author kenneth;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.12.21.30.55;	author kenneth;	state Exp;
branches;
next	;


desc
@move old objects
@


1.2
log
@changed locking order
@
text
@#!___PYTHON_PATH_PLACEHOLDER___
# script to move old jobs and reservations to old dbs

import Catalina

EVENTS_DB = 'events'
JOBS_DB = 'jobs'
OLD_JOBS_DB = 'old_jobs'
OLD_RESERVATIONS_DB = 'old_reservations'
RESERVATIONS_DB = 'reservations'

events_db_handle = Catalina.open_db(EVENTS_DB,'write')
jobs_db_handle = Catalina.open_db(JOBS_DB,'write')
old_jobs_db_handle = Catalina.open_db(OLD_JOBS_DB,'write')
old_reservations_db_handle = Catalina.open_db(OLD_RESERVATIONS_DB,'write')
reservations_db_handle = Catalina.open_db(RESERVATIONS_DB,'write')

Catalina.move_old_jobs(events_db_handle, jobs_db_handle, old_jobs_db_handle )
Catalina.move_old_reservations(events_db_handle, reservations_db_handle, old_reservations_db_handle )


Catalina.close_db(reservations_db_handle)
Catalina.close_db(old_reservations_db_handle)
Catalina.close_db(old_jobs_db_handle)
Catalina.close_db(jobs_db_handle)
Catalina.close_db(events_db_handle)
@


1.1
log
@Initial revision
@
text
@d9 1
a10 1
OLD_RESERVATIONS_DB = 'old_reservations'
d15 1
a16 1
old_reservations_db_handle = Catalina.open_db(OLD_RESERVATIONS_DB,'write')
a21 3
Catalina.close_db(events_db_handle)
Catalina.close_db(jobs_db_handle)
Catalina.close_db(old_jobs_db_handle)
d24 3
@
