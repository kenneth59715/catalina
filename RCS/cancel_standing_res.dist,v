head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2002.12.21.04.18.17;	author kenneth;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.12.21.33.40;	author kenneth;	state Exp;
branches;
next	;


desc
@cancel a standing reservation specification
@


1.2
log
@consistent opts
@
text
@#!___PYTHON_PATH_PLACEHOLDER___
# script to cancel a reservation, given a res_id

import getopt
import sys
import Catalina

STANDING_RESERVATIONS_DB = Catalina.STANDING_RESERVATIONS_DB

options = ['res=']
args = sys.argv[1:]
argdict = {}
optlist, lineargs = getopt.getopt(args, '', options)
for pair in optlist:
        argdict[pair[0]] = pair[1]

usage_string = \
"""Usage: cancel_standing_res [--res=<res id>]
                              [--?]
                              [--help]"""
if argdict.has_key('--?') or argdict.has_key('--help') :
    print usage_string
    sys.exit(0)

if not argdict.has_key('--res') :
    print "--res=<res_id> required!"
    sys.exit(1)
else :
    db_handle = Catalina.open_db(STANDING_RESERVATIONS_DB,'write');
    Catalina.delete_object(argdict['--res'], db_handle)
    Catalina.close_db(db_handle)
@


1.1
log
@Initial revision
@
text
@d10 1
a10 1
options = ['res_id=']
d17 10
a26 2
if not argdict.has_key('--res_id') :
    print "--res_id=<res_id> required!"
d30 1
a30 1
    Catalina.delete_object(argdict['--res_id'], db_handle)
@
