head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2005.04.07.17.10.55;	author kenneth;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.28.20.06.20;	author kenneth;	state Exp;
branches;
next	;


desc
@script to preempt loadl jobs
add preemption
@


1.2
log
@instead of looking for command line directive, only PREEMPT_STEP
@
text
@#include <stdio.h>
#include "/usr/lpp/LoadL/full/include/llapi.h"

main (int argc, char *argv[]) {
	LL_element *errObj = NULL;
	enum LL_preempt_op action;
	int rc, argindex, nodelistindex;

	/*rc = ll_preempt(LL_API_VERSION,&errObj,argv[1],PREEMPT_STEP);
	if (! strncmp(argv[2], "PREEMPT_STEP",11) ) {
		action = PREEMPT_STEP;
	} else if (! strncmp(argv[2], "RESUME_STEP",11) ) {
		action = RESUME_STEP;
	} else {
		printf("Invalid action (%s)!\n",argv[2]);
		exit(1);
	}
	rc = ll_preempt(LL_API_VERSION,&errObj,argv[1],action);
        */
	rc = ll_preempt(LL_API_VERSION,&errObj,argv[1],PREEMPT_STEP);
	printf("rc from ll_preempt is >%d<\n", rc);
/*
	printf("arg[1]is >%s<\n", argv[1]);
	printf("LL_API_VERSION >%d<\n", LL_API_VERSION);
	printf("PREEMPT_STEP >%d<\n", PREEMPT_STEP);
*/
	

}
@


1.1
log
@Initial revision
@
text
@d9 1
a9 1
	/*rc = ll_preempt(LL_API_VERSION,&errObj,argv[1],PREEMPT_STEP);*/
d19 2
d22 1
d26 1
@
