head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2002.12.21.04.26.31;	author kenneth;	state Exp;
branches;
next	1.3;

1.3
date	2001.12.14.18.51.37;	author kenneth;	state Exp;
branches;
next	1.2;

1.2
date	2001.10.31.23.09.40;	author kenneth;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.12.21.32.40;	author kenneth;	state Exp;
branches;
next	;


desc
@unbind job from a reservation
@


1.4
log
@consistent opts
@
text
@#!___PYTHON_PATH_PLACEHOLDER___
# script to bind job to reservations

import Catalina
import getopt
import sys

options = ['res=', 'job=']
args = sys.argv[1:]
argdict = {}
optlist, lineargs = getopt.getopt(args, 'r:j', options)
for pair in optlist:
        argdict[pair[0]] = pair[1]

EVENTS_DB = 'events'
JOBS_DB = 'jobs'

events_db_handle = Catalina.open_db(EVENTS_DB,'write')
jobs_db_handle = Catalina.open_db(JOBS_DB,'write')

Catalina.unbind_job_from_reservation(argdict['--job'], argdict['--res'], events_db_handle, jobs_db_handle)

Catalina.close_db(jobs_db_handle)
Catalina.close_db(events_db_handle)
@


1.3
log
@changed job_step_name to job_step_id
@
text
@d8 1
a8 1
options = ['reservation_name=', 'job_step_id=']
d21 1
a21 1
Catalina.unbind_job_from_reservation(argdict['--job_step_id'], argdict['--reservation_name'], events_db_handle, jobs_db_handle)
@


1.2
log
@changed locking order
@
text
@d8 1
a8 1
options = ['reservation_name=', 'job_step_name=']
d21 1
a21 1
Catalina.unbind_job_from_reservation(argdict['--job_step_name'], argdict['--reservation_name'], events_db_handle, jobs_db_handle)
@


1.1
log
@Initial revision
@
text
@d23 1
a24 1
Catalina.close_db(jobs_db_handle)
@
